<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>葡萄藤PPT</title>

    <link rel="stylesheet" href="../css/reveal/reveal.css">

    <!-- PPT主题，可以在/css/reveal/theme/中选择其他主题，目前暂时只能使用该模板 -->
    <link rel="stylesheet" href="../css/reveal/theme/ptt.css">

    <!-- syntax highlighting 代码高亮主题 -->
    <link rel="stylesheet" href="../lib/reveal/css/zenburn.css">
    <style type="text/css">
        p{
            font-size: 30px!important;
            letter-spacing: 2px;
            line-height: 50px!important;
            text-align: left;
            text-indent:2em;
        }
        a{
            color: #fff!important;
        }
    </style>

    <!-- 打印和PDF输出样式 -->

    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? '../css/reveal/print/pdf.css' : '../css/reveal/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<img src="../img/demo/logo.png" alt="" usemap="#pttmap" class="base-logo">
<map name="pttmap">
    <area shape="rect" coords="0,0,276,58" href="http://www.jnshu.com" alt="" target="_blank"/>
</map>
<div class="reveal">
    <div class="slides">
        <section>
            <h2>【JS-04】</h2>
            <h3>主题：in,typeof,instanceof,===运算符分别是干什么的？</h3>
            <h3>小课堂【武汉第167期】</h3>
            分享人：冯强
        </section>
        <section style="line-height: 76px;">
            目录<br>

            1.背景介绍<br>

            2.知识剖析<br>

            3.常见问题<br>

            4.解决方案<br>

            5.编码实战<br>

            6.扩展思考<br>

            7.参考文献<br>

            8.更多讨论<br>
        </section>
        <section>
            <section>
                <h3>1.背景介绍</h3>
            </section>
            <section>
                <P>
                    在JavaScript中，有很多常见的运算符和关键字，这次我们来看看其中的 in，typeof，instanceof，还有===，分别是干什么的，有什么用，和什么情况下可能会用到
                </P>
            </section>

        </section>

        <section>
            <section>
                <h3>2.知识剖析</h3>
            </section>
            <section>
                <h2>2.1、in运算符</h2>
                <P>
                <pre>
                    <code>
                        // in 运算符作用：
                        // 就是判断 属性是否存在于对象中，如果存在，返回值为：true
                        // 如果不存在，则为：false
                        // 语法：属性 in 对象
                         var obj = {
                         name1: "jack",
                         age: 9,
                         abc: undefined
                        };

                        // 如果是name，要注意：window有name属性
                        console.log("name1" in obj);   // true
                        console.log("age" in obj);     // true
                        console.log("age123" in obj);  // false

                        // 如果是对象中存在的成员或者是原型中的成员，此时，返回的结果就是 true
                        console.log("toString" in obj); // true
                        console.log(obj.toString());    // object
                        console.log("abc" in obj);      // true
                    </code>
                    </pre>
                </P>
            </section>

            <section>
                <h2>in运算符判断数组</h2>
                <P>
                <pre>
                    <code>
                        // in运算符判断数组
                        // 对于数组来说，索引号 就是属性
                        var arr = [1];
                        console.log("1" in arr); // false
                        console.log("0" in arr); // true
                        console.log(0 in arr);   // true

                        // 访问数组的成员：
                        // 可以使用 数组索引 也可以使用 字符串
                        console.log(arr[0]);    //1
                        console.log(arr["0"]);  //1
                    </code>
                    </pre>
                </P>
            </section>
            <section>
                <h2>for in组合遍历大法</h2>
                <P>
                <pre>
                    <code>
                        var x
                        var mycars = new Array()
                        mycars[0] = "Saab"
                        mycars[1] = "Volvo"
                        mycars[2] = "BMW"

                        for (x in mycars)
                        {
                        console.log(mycars[x])
                        }
                    </code>
                    </pre>
                </P>
            </section>
            <!--in运算符结束-->

            <section>
                <h2>2.2、typeof</h2>
                <P>
                <pre>
                    <code>
typeof在js中是一个一元操作符，可以判断操作数的类型，
      其返回值有number、string、object、boolean、function、undefined。
      使用方式可以是typeof 操作数或typeof(操作数)，下面是几个实例，

typeof NaN  返回值：number  NaN特殊的非数字值

typeof Infinity  返回值：number  Infinity无穷大特殊值

typeof 123  返回值：number

typeof '123'  返回值：string

typeof(true)  返回值：boolean

typeof(Date)  返回值：function

typeof(s)  返回值：undefined  因为s作为一个变量未被定义，所以这里的返回值是undefined

typeof(undefined)  返回值：undefined

typeof(document)  返回值：object  document是DOM下的一个对象

typeof(null)  返回值：object



typeof就是来判断变量是什么类型的，对返回值做以下说明，

number 变量是数字类型

string  变量是字符串类型

boolean 变量是布尔类型

object  变量是对象或者null

function  变量是函数

undefined  变量未定义
                    </code>
                    </pre>
                </P>
            </section>

            <section>
                <h2>2.3、instanceof</h2>
                <P>
                <pre>
                    <code>
instanceof 运算符与 typeof
运算符相似，用于识别正在处理的对象的类型。与 typeof 方法不同的是，
instanceof 方法要求开发者明确地确认对象为某特定类型。
通常来讲，使用 instanceof 就是判断一个实例是否属于某种类型。
另外，更重要的一点是 instanceof 可以在继承关系中用来判断一个实例是否属于它的父类型。

                        例如：

                        function Person(){};
                        var p =new Person();
                        console.log(p instanceof Person);//true

                    </code>
                    </pre>
                </P>
            </section>

            <section>
                <h2>2.4、===</h2>
                <P>
                <pre>
                    <code>
  “===”用于严格比较,只要数据类型不匹配就返回flase。

1、如果类型不同，就[不相等]
2、如果两个都是数值，并且是同一个值，那么[相等]；
  (！例外)的是，如果其中至少一个是NaN，那么[不相等]。
  (判断一个值是否是NaN，只能用isNaN()来判断）
3、如果两个都是字符串，每个位置的字符都一样，那么[相等]；否则[不相等]。
4、如果两个值都是true，或者都是false，那么[相等]。
5、如果两个值都引用同一个对象或函数，那么[相等]；否则[不相等]。
6、如果两个值都是null，或者都是undefined，那么[相等]。

                        var a = 3;
                        var b = "3";
                        console.log(a===b) //返回 false;
                        //因为a,b的类型不一样;

                    </code>
                    </pre>
                </P>
            </section>


        </section><!--剖析完毕-->


        <section>
            <h3>3.常见问题</h3>
            <p>JS运算符 == 和 === 之间有什么不一样？</p>
        </section>


        <section>
            <h3>4.解决方案</h3>
            <pre>
                    <code>
===用于严格比较,只要数据类型不匹配就返回flase。
首先，== equality 等同，=== identity 恒等。
==， 两边值类型不同的时候，要先进行类型转换，再比较。
===，不做类型转换，类型不同的一定不等。

下面分别说明：
先说 ===，这个比较简单。下面的规则用来判断两个值是否===相等：
1、如果类型不同，就[不相等]
2、如果两个都是数值，并且是同一个值，那么[相等]；
   (！例外)的是，如果其中至少一个是NaN，那么[不相等]。
   （判断一个值是否是NaN，只能用isNaN()来判断）
3、如果两个都是字符串，每个位置的字符都一样，那么[相等]；否则[不相等]。
4、如果两个值都是true，或者都是false，那么[相等]。
5、如果两个值都引用同一个对象或函数，那么[相等]；否则[不相等]。
6、如果两个值都是null，或者都是undefined，那么[相等]。
再说 ==，根据以下规则：
1、如果两个值类型相同，进行 === 比较。
2、如果两个值类型不同，他们可能相等。根据下面规则进行类型转换再比较：
a、如果一个是null、一个是undefined，那么[相等]。
b、如果一个是字符串，一个是数值，把字符串转换成数值再进行比较。
c、如果任一值是 true，把它转换成 1 再比较；如果任一值是 false，把它转换成 0 再比较。
d、如果一个是对象，另一个是数值或字符串，把对象转换成基础类型的值再比较。
  对象转换成基础类型，利用它的toString或者valueOf方法。
  js核心内置类，会尝试valueOf先于toString；
  例外的是Date，Date利用的是toString转换。
  非js核心的对象，令说（比较麻烦，我也不大懂）
e、任何其他组合，都[不相等]。

                        //举例：
                        "1" == true
                        //类型不等，true会先转换成数值 1，现在变成 "1" == 1，
                        //再把"1"转换成 1，比较 1 == 1， 相等。

                        //= 赋值运算符
                        //== 等于
                        //=== 严格等于
                        //例：
                        var a = 3;
                        var b = "3";
                        a==b 返回 true
                        console.log(a===b) //返回 false
                        //因为a,b的类型不一样
                        //===用来进行严格的比较判断

                    </code>
                    </pre>

        </section>


        <section>
            <h3>5.编码实战</h3>
            <br>
            <h3>以上！</h3>
        </section>


        <section>
            <section>
                <h3>6.扩展思考</h3>
                <p>大家都知道js中可以使用typeof来判断变量的基本类型，如：<br>
                    <span style="color: #0f0f0f">console.log(typeof '111'); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// "string"</span><br>
                    <span style="color: #0f0f0f">console.log(typeof 22); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// "number"</span><br>
                    <span style="color: #0f0f0f">console.log(typeof a); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// "undefined"</span><br>
                    <span style="color: #0f0f0f">console.log(typeof undefined); &nbsp;&nbsp;// "undefined"</span><br>
                    <span style="color: #0f0f0f">console.log(typeof []); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// "object"</span><br>
                    但是这个方法不适用于来判断数组，因为不管是数组还是对象，都会返回object，这就需要我们需求其他的方法,辣么判断数组可以用什么方法呢？</p>

            </section>
            <section>
                <pre>
                    <code>
//1、constructor  属性
//这个属性在我们使用js系统或者自己创建的对象的时候，会默认的加上，例如：
  var arr = [1,2,3];  //创建一个数组对象
  arr.prototype.constructor = Array;  //这一句是系统默认加上的,指向这个对象的原型方法
//所以我们就可以这样来判断：
     alert(arr.constructor === Array);   // true
//2、instanceof
//instanceof是检测对象的原型链是否指向构造函数的prototype对象的，
  所以我们也可以用它来判断：

     var arr = [1,2,3];
     alert(arr instanceof Array);   // true
                    </code>
                </pre>

            </section>
        </section>


        <section>
            <h3>7.参考文献</h3>
            <br>
            <h3>搜索引擎</h3>
        </section>


        <section>
            <section>
                <h3>8.更多讨论</h3>
                在日常编程中，你还使用过别的有意思的运算符吗？<br>
            </section>

        </section>


        <section>
            <h4>鸣谢</h4>
            <h4>感谢大家观看</h4>
            <small>BY : 郭俊伟|冯强</small>
        </section>


    </div>
</div>

<script src="../lib/reveal/js/head.min.js"></script>
<script src="../lib/reveal/reveal.js"></script>

<script>
    // 以下为常见配置属性的默认值
    // {
    // 	controls: true, // 是否在右下角展示控制条
    // 	progress: true, // 是否显示演示的进度条
    // 	slideNumber: false, // 是否显示当前幻灯片的页数编号，也可以使用代码slideNumber: 'c / t' ，表示当前页/总页数。
    // 	history: false, // 是否将每个幻灯片改变加入到浏览器的历史记录中去
    // 	keyboard: true, // 是否启用键盘快捷键来导航
    // 	overview: true, // 是否启用幻灯片的概览模式，可使用"Esc"或"o"键来切换概览模式
    // 	center: true, // 是否将幻灯片垂直居中
    // 	touch: true, // 是否在触屏设备上启用触摸滑动切换
    // 	loop: false, // 是否循环演示
    // 	rtl: false, // 是否将演示的方向变成RTL，即从右往左
    // 	fragments: true, // 全局开启和关闭碎片。
    // 	autoSlide: 0, // 两个幻灯片之间自动切换的时间间隔（毫秒），当设置成 0 的时候则禁止自动切换，该值可以被幻灯片上的 ` data-autoslide` 属性覆盖
    // 	transition: 'default', // 切换过渡效果，有none/fade/slide/convex/concave/zoom
    // 	transitionSpeed: 'default', // 过渡速度，default/fast/slow
    // 	mouseWheel: true, //是否启用通过鼠标滚轮来切换幻灯片
    // }
    // 初始化幻灯片
    Reveal.initialize({
        history: true,
        dependencies: [
            {src: '../plugin/markdown/marked.js'},
            {src: '../plugin/markdown/markdown.js'},
            {src: '../plugin/notes/notes.js', async: true},
            {
                src: '../plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            }
        ]
    });
</script>
<script>
    //过滤掉小于 10 的数组元素：
    //代码：
    document.getElementById("a").onclick = isBigEnough();
    function isBigEnough(element, index, array) {
        return (element >= 10);
    }
    var filtered = [12, 5, 8, 130, 44].filter(isBigEnough);
    // 12, 130, 44
    //结果：[12, 5, 8, 130, 44].filter(isBigEnough) ： 12, 130, 44
    console.log(filtered);
    ///11111111111
    //检查是否有数组元素大于等于10：
    document.getElementById("b").onclick = isBigEnoug();
    function isBigEnoug(element, index, array) {
        return (element >= 10);
    }
    var passed = [2, 5, 8, 1, 4].some(isBigEnoug);
    // passed is false
    passed2 = [12, 5, 8, 1, 4].some(isBigEnoug);
    // passed is true
    //结果：
    //[2, 5, 8, 1, 4].some(isBigEnough) ： false
    //[12, 5, 8, 1, 4].some(isBigEnough) ： true
    console.log(passed);
    console.log(passed2);
    ////2222222222222222222222
    //将所有的数组元素转换为大写：
    document.getElementById("c").onclick = makeUpperCase();
    var strings = ["hello", "Array", "WORLD"];
    function makeUpperCase(v) {
        return v.toUpperCase();
    }
    var uppers = strings.map(makeUpperCase);
    // uppers is now ["HELLO", "ARRAY", "WORLD"]
    // strings is unchanged
    //结果：["hello", "Array", "WORLD"].map(makeUpperCase) ： HELLO, ARRAY, WORLD
    console.log(uppers);
    /////333333333333333333
    document.getElementById("d").onclick = printElt();
    //打印数组内容：
    function printElt(element, index, array) {
        document.writeln("[" + index + "] is " + element + "<br />");
    }
    [2, 5, 9].forEach(printElt);
    // Prints:
    // [0] is 2
    // [1] is 5
    // [2] is 9
    //结果：
    //[0] is 2
    //[1] is 5
    //[2] is 9
    /////////44444444444444
</script>
</body>
</html>